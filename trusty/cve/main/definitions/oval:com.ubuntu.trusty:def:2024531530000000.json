{
	"class": "vulnerability",
	"id": "oval:com.ubuntu.trusty:def:2024531530000000",
	"version": "1",
	"metadata": {
		"title": "CVE-2024-53153 on Ubuntu 14.04 LTS (trusty) - medium",
		"description": "In the Linux kernel, the following vulnerability has been resolved:PCI: qcom-ep: Move controller cleanups to qcom_pcie_perst_deassert()Currently, the endpoint cleanup function dw_pcie_ep_cleanup() and EPFdeinit notify function pci_epc_deinit_notify() are called during theexecution of qcom_pcie_perst_assert() i.e., when the host has assertedPERST#. But quickly after this step, refclk will also be disabled by thehost.All of the Qcom endpoint SoCs supported as of now depend on the refclk fromthe host for keeping the controller operational. Due to this limitation,any access to the hardware registers in the absence of refclk will resultin a whole endpoint crash. Unfortunately, most of the controller cleanupsrequire accessing the hardware registers (like eDMA cleanup performed indw_pcie_ep_cleanup(), powering down MHI EPF etc...). So these cleanupfunctions are currently causing the crash in the endpoint SoC once hostasserts PERST#.One way to address this issue is by generating the refclk in the endpointitself and not depending on the host. But that is not always possible assome of the endpoint designs do require the endpoint to consume refclk fromthe host (as I was told by the Qcom engineers).Thus, fix this crash by moving the controller cleanups to the start ofthe qcom_pcie_perst_deassert() function. qcom_pcie_perst_deassert() iscalled whenever the host has deasserted PERST# and it is guaranteed thatthe refclk would be active at this point. So at the start of this function(after enabling resources), the controller cleanup can be performed. Oncefinished, rest of the code execution for PERST# deassert can continue asusual.\n\n    Update Instructions:\n\n    Run `sudo pro fix CVE-2024-53153` to fix the vulnerability. The problem can be corrected\n    by updating your system to the following package versions:\n\nlinux-image-unsigned-3.13.0-199-generic - 3.13.0-173.224\nlinux-image-unsigned-3.13.0-199-lowlatency - 3.13.0-173.224\nAvailable with Ubuntu Pro with Legacy support add-on: https://ubuntu.com/pro\n\nlinux-image-4.4.0-258-generic - 4.4.0-164.192~14.04.1\nlinux-image-unsigned-4.4.0-258-generic - 4.4.0-164.192~14.04.1\nlinux-image-unsigned-4.4.0-258-lowlatency - 4.4.0-164.192~14.04.1\nAvailable with Ubuntu Pro with Legacy support add-on: https://ubuntu.com/pro\n\nlinux-image-4.4.0-1135-aws - 4.4.0-1054.58\nAvailable with Ubuntu Pro with Legacy support add-on: https://ubuntu.com/pro\n\nlinux-image-unsigned-4.15.0-1180-azure - 4.15.0-1059.64~14.04.1\nAvailable with Ubuntu Pro with Legacy support add-on: https://ubuntu.com/pro",
		"affected": {
			"family": "unix",
			"platform": "Ubuntu 14.04 LTS"
		},
		"reference": {
			"source": "CVE",
			"ref_id": "CVE-2024-53153",
			"ref_url": "https://www.cve.org/CVERecord?id=CVE-2024-53153"
		},
		"advisory": {
			"severity": "Medium",
			"rights": "Copyright (C) 2024 Canonical Ltd.",
			"public_date": "2024-12-24 12:15:00 UTC",
			"cve": {
				"text": "CVE-2024-53153",
				"href": "https://ubuntu.com/security/CVE-2024-53153",
				"public": "20241224"
			}
		}
	},
	"notes": {},
	"criteria": {
		"criterias": [
			{
				"operator": "OR",
				"criterions": [
					{
						"test_ref": "oval:com.ubuntu.trusty:tst:2019114770000000",
						"comment": "linux package in trusty, is related to the CVE in some way and has been fixed (note: '3.13.0-173.224')."
					},
					{
						"test_ref": "oval:com.ubuntu.trusty:tst:2017185510000000",
						"comment": "linux-lts-xenial package in trusty, is related to the CVE in some way and has been fixed (note: '4.4.0-164.192~14.04.1')."
					},
					{
						"test_ref": "oval:com.ubuntu.trusty:tst:2017185510000010",
						"comment": "linux-aws package in trusty, is related to the CVE in some way and has been fixed (note: '4.4.0-1054.58')."
					},
					{
						"test_ref": "oval:com.ubuntu.trusty:tst:2018130530000000",
						"comment": "linux-azure package in trusty, is related to the CVE in some way and has been fixed (note: '4.15.0-1059.64~14.04.1')."
					}
				]
			}
		]
	}
}
