{
	"class": "vulnerability",
	"id": "oval:com.ubuntu.jammy:def:2024470800000000",
	"version": "1",
	"metadata": {
		"title": "CVE-2024-47080 on Ubuntu Pro FIPS-updates 22.04 LTS (jammy) - medium",
		"description": "matrix-js-sdk is the Matrix Client-Server SDK for JavaScript andTypeScript. In matrix-js-sdk versions versions 9.11.0 through 34.7.0, themethod `MatrixClient.sendSharedHistoryKeys` is vulnerable to interceptionby malicious homeservers.  The method was introduced by MSC3061) and iscommonly used to share historical message keys with newly invited users,granting them access to past messages in the room. However, itunconditionally sends these \"shared\" keys to all of the invited user'sdevices, regardless of whether the user's cryptographic identity isverified or whether the user's devices are signed by that identity. Thisallows the attacker to potentially inject its own devices to receivesensitive historical keys without proper security checks. Note that thisonly affects clients running the SDK with the legacy crypto stack. Clientsusing the new Rust cryptography stack (i.e. those that call`MatrixClient.initRustCrypto()` instead of `MatrixClient.initCrypto()`) areunaffected by this vulnerability, because`MatrixClient.sendSharedHistoryKeys()` raises an exception in suchenvironments. The vulnerability was fixed in matrix-js-sdk 34.8.0 byremoving the vulnerable functionality. As a workaround, remove use ofaffected functionality from clients.",
		"affected": {
			"family": "unix",
			"platform": "Ubuntu Pro FIPS-updates 22.04 LTS"
		},
		"reference": {
			"source": "CVE",
			"ref_id": "CVE-2024-47080",
			"ref_url": "https://www.cve.org/CVERecord?id=CVE-2024-47080"
		},
		"advisory": {
			"severity": "Medium",
			"rights": "Copyright (C) 2024 Canonical Ltd.",
			"public_date": "2024-10-15 15:15:00 UTC",
			"cve": {
				"text": "CVE-2024-47080",
				"href": "https://ubuntu.com/security/CVE-2024-47080",
				"public": "20241015"
			}
		}
	},
	"notes": {},
	"criteria": {
		"criterias": [
			{
				"operator": "OR",
				"criterions": [
					{
						"test_ref": "oval:com.ubuntu.jammy:tst:2021408230000000",
						"comment": "node-matrix-js-sdk package in jammy is affected and may need fixing."
					}
				]
			}
		]
	}
}
