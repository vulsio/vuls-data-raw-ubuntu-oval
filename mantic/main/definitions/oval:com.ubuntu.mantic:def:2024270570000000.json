{
	"class": "vulnerability",
	"id": "oval:com.ubuntu.mantic:def:2024270570000000",
	"version": "1",
	"metadata": {
		"title": "CVE-2024-27057 on Ubuntu 23.10 (mantic) - medium",
		"description": "In the Linux kernel, the following vulnerability has been resolved:ASoC: SOF: ipc4-pcm: Workaround for crashed firmware on system suspendWhen the system is suspended while audio is active, thesof_ipc4_pcm_hw_free() is invoked to reset the pipelines since duringsuspend the DSP is turned off, streams will be re-started after resume.If the firmware crashes during while audio is running (or when we resetthe stream before suspend) then the sof_ipc4_set_multi_pipeline_state()will fail with IPC error and the state change is interrupted.This will cause misalignment between the kernel and firmware state on nextDSP boot resulting errors returned by firmware for IPC messages, eventuallyfailing the audio resume.On stream close the errors are ignored so the kernel state will becorrected on the next DSP boot, so the second boot after the DSP panic.If sof_ipc4_trigger_pipelines() is called from sof_ipc4_pcm_hw_free() thenstate parameter is SOF_IPC4_PIPE_RESET and only in this case.Treat a forced pipeline reset similarly to how we treat a pcm_free byignoring error on state sending to allow the kernel's state to beconsistent with the state the firmware will have after the next boot.",
		"affected": {
			"family": "unix",
			"platform": "Ubuntu 23.10"
		},
		"reference": {
			"source": "CVE",
			"ref_id": "CVE-2024-27057",
			"ref_url": "https://www.cve.org/CVERecord?id=CVE-2024-27057"
		},
		"advisory": {
			"severity": "Medium",
			"rights": "Copyright (C) 2024 Canonical Ltd.",
			"public_date": "2024-05-02",
			"cve": {
				"text": "CVE-2024-27057",
				"href": "https://ubuntu.com/security/CVE-2024-27057",
				"public": "20240502"
			}
		}
	},
	"notes": {},
	"criteria": {
		"criterias": [
			{
				"operator": "OR",
				"criterions": [
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000000",
						"comment": "linux package in mantic is affected and may need fixing."
					},
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000010",
						"comment": "linux-aws package in mantic is affected and may need fixing."
					},
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000020",
						"comment": "linux-azure package in mantic is affected and may need fixing."
					},
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000030",
						"comment": "linux-gcp package in mantic is affected and may need fixing."
					},
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000060",
						"comment": "linux-ibm: while related to the CVE in some way, a decision has been made to ignore this issue (note: 'end of kernel support')."
					},
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000090",
						"comment": "linux-laptop package in mantic is affected and may need fixing."
					},
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000070",
						"comment": "linux-lowlatency package in mantic is affected and may need fixing."
					},
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000040",
						"comment": "linux-oracle package in mantic is affected and may need fixing."
					},
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000050",
						"comment": "linux-raspi package in mantic is affected and may need fixing."
					},
					{
						"test_ref": "oval:com.ubuntu.mantic:tst:201245420000080",
						"comment": "linux-starfive package in mantic is affected and may need fixing."
					}
				]
			}
		]
	}
}
